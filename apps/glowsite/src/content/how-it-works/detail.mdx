---
title: More technical details
sort: 2
---

import { Row, Col, Divider, List } from 'antd';
import {CheckCircleOutlined} from '@ant-design/icons'
import {PlainImg} from "../../components/PlainImg";
import Image2Theme from '../theme_images/theme_2.svg'


# A little bit more technical detail...


<Row align={"middle"}>
    <Col span={12}><p>The glowbuzzer toolkit is structured as three layers.</p>
        <p>Each layer is a separate software component in the glowbuzzer toolkit.</p>
        <li>LAYER 1 is the front-end react components used to build the user interface and machine control logic</li>
        <li>LAYER 2 is the real-time core control</li>
        <li>LAYER 3 is the interface to drives and IO</li>
    </Col>
    <Col span={12}> <PlainImg src={Image2Theme} height={"500px"}/></Col>
</Row>



<Row>
    <Col span={12} ><img src="/tiers-GBEM.svg" alt="GBEM tiers" width="49%" /></Col>
    <Col span={12} ><img src="/tiers-GBSM.svg" alt="GBSM tiers" width="49%"/></Col>
</Row>

<Row justify="space-around">
<Col span={6}><b>With EtherCAT drives and IO</b></Col>
<Col span={6}><b>With embedded motor drive electronics</b></Col>
</Row>



<Divider orientation="left">LAYER 1 - Front-end React components</Divider>

We supply a comprehensive set of components to perform the fundamental machine control functions:

<List bordered>
    <List.Item>connect to a machine</List.Item>
    <List.Item>manage digital and analogue inputs and outputs</List.Item>
    <List.Item>managed the machine's state (switched on, faults)</List.Item>
        <List.Item>make a machine move</List.Item>
            <List.Item>see the machineâ€™s position</List.Item>
                <List.Item>send gcode to a machine</List.Item>
                    <List.Item>see the path of a machine etc</List.Item>
</List>

These are all published under an open-source license agreement and are fully customisable. You can also, of course, tap in the vast ecosystem of components & code available in the wider React / JavaScript ecosystem. When FE components need the machine to do something, they send high-level commands to the machine control over a WebSocket interface. They also receive messages containing the state of the machine over this connection.

<Divider orientation="left">LAYER 2 - Real-time core control (GBC)</Divider>

This is the only closed source component of the glowbuzzer toolkit.

GBC takes high level machine commands from the FE over a WebSocket connection and processes them into a form that the fieldbus can understand, namely a process image (output-PI) detailing the state of all outputs updated on a millisecond cycle time.

In reverse, the input-PI is updated from the state of the fieldbus and sent back to the FE in the form of high level WebSocket messages.

When running on a Linux platform, the process image is available via a shared memory interface (or on embedded platform a dual port memory (Q)SPI interface) for use by whatever process is responsible for reading and writing from the fieldbus or to motors and IO.

GBC calculates the trajectories for any motion commands issued and performs the forward and inverse kinematics for different machine configurations.

<Divider orientation="left">LAYER 3 - Motor and IO control (GBEM or GBSM)</Divider>

The process image generated by GBC needs to be written to and read from drives & IO. We provide a number of options to provide this:

* (Linux or embedded microcontroller) for communicating with EtherCAT drives and IO, we provide GBEM an EtherCAT master based on the SOEM open-source EtherCAT master stack
* (Linux or embedded microcontroller) An interface layer to integrate with common EtherCAT slave ICs (E.g. Microchip's LAN9252/3) to provide an EtherCAT slave interface.
* (Linux or embedded microcontroller) e Hilscher netX chipset.
* (Linux or embedded microcontroller) GBSM to communciate (our reference design for this uses the Trinamic chip set)
